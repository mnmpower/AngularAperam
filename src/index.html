<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>AngularAperam</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


</head>
<script>
  function move() {
    myGameArea.start();
    myGamePiece = new component(50, 50, "red", 50, 0, 120, 90);
    setTimeout(
      function () {
        myGamePiece = new component(50, 50, "red", 120, 90, 300, 60);
      }, 800);


  }

  function hide() {
    myGameArea.stop();
  }

  var myGameArea = {
    // canvas: document.getElementById("canvas"),
    canvas: document.createElement("canvas"),
    start: function () {
      this.canvas.width = 480;
      this.canvas.height = 270;
      this.context = this.canvas.getContext("2d");
      document.body.insertBefore(this.canvas, document.getElementById("canvas").childNodes[0]);
      this.interval = setInterval(updateGameArea, 20);
    },
    clear: function () {
      this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    },
    stop: function () {
      this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
      myGamePiece= null;
      this.canvas.remove();

    }
  }

  var myGamePiece;

  function component(width, height, color, x, y, newX, newY) {
    this.width = width;
    this.height = height;
    this.speed = -1;
    this.x = x;
    this.y = y;
    this.newX = newX;
    this.newY = newY;
    this.update = function () {
      ctx = myGameArea.context;
      ctx.fillStyle = color;
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.fillRect(this.width / -2, this.height / -2, this.width, this.height);
      ctx.restore();
    }
    this.newPos = function () {
      if (this.x < this.newX) {
        this.x -= this.speed;
      } else if (this.x > this.newX) {
        this.x += this.speed;
      }


      if (this.y < this.newY) {
        this.y -= this.speed;
      } else if (this.y > this.newY) {
        this.y += this.speed;
      }
      console.log(this.x, this.newX, this.y, this.newY)
    }
  }

  function updateGameArea() {
    myGameArea.clear();
    myGamePiece.newPos();
    myGamePiece.update();
  }

</script>


<body>
<!--<canvas width="480" height="270" id="canvas"></canvas>-->

<style>
  canvas {
    border: 1px solid #d3d3d3;
    background-color: #f1f1f1;
    margin-top: -500px;
    margin-left: 300px;
    left: 0px;
    z-index: 1;
    position: absolute;

  }
</style>


<app-root></app-root>
</body>
</html>
